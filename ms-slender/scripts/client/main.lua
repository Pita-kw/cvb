--[[
	##########################################################################
	##                                                                      ##
	## Project: 'MTA Slender' - Gamemode for MTA: San Andreas               ##
	##                      Developer: Noneatme                             ##
	##           License: See LICENSE in the top level directory            ##
	##                                                                      ##
	##########################################################################
	[C] Copyright 2013-2014, Noneatme
]]

addEvent("doSlenderClientPlaySound", true)
addEvent("onSlenderClientTaschenlampe", true)

addEvent("doSlenderClientSendMessage", true)

-- VARIABLES --
local slender_font = dxCreateFont("data/fonts/COPRGTB.ttf", 50)

sound = {}
local textd = {}

local slendyshock = false

wasted = false

local s_en = false

taschenlampstate = true
local slender_seeme = false

textd["status"] = false
textd["text"] = ""
textd["timer"] = false

local fade = 0

local atSelection = false
local game_started = false

local select_button = {}

current_map = false

alpha_selection = {}
alpha_selection["industry"] = 200
alpha_selection["forest"] = 200

-- EVENTS AN FUNCTIONS --

addEventHandler("doSlenderClientPlaySound", getLocalPlayer(), function(url, bool)
	playSlenderSound(url, bool)
end)


local function collect_page(id)
	pages = pages+1
	pages_done[id] = true
	triggerEvent("doSlenderClientSendMessage", localPlayer, "Stron "..pages.."/8")
	playSlenderSound("page_collect.mp3", false)
	if(pages == 1) then
		sound["page1"] = playSlenderSound("music_page_1.mp3", true)
	end
	if(pages == 3) then
		sound["page3"] = playSlenderSound("music_page_3.mp3", true)
		setTimer(function()
			destroyElement(sound["page1"])
		end, 2000, 1)
	end
	if(pages == 6) then
		sound["page6"] = playSlenderSound("music_page_6.mp3", true)
		setTimer(function()
			destroyElement(sound["page3"])
		end, 2000, 1)
	end
	refresh_slender_ai(pages)
end

local function slender_page_check()
	for i = 1, 8, 1 do
		local x, y, z = getElementPosition(localPlayer)
		local x2, y2, z2 = page_location[current_map][i][1], page_location[current_map][i][2], page_location[current_map][i][3]
		if(getDistanceBetweenPoints3D(x, y, z, x2, y2, z2) < 3) and (pages_done[i] ~= true) then
			collect_page(i)
			break;
		end
	end
end

local slenderObjects = {}
local function createSlenderObject(id, x, y, z, rx, ry, rz)
	local obj = createObject(id, x, y, z, rx, ry, rz)
	setElementDimension(obj, getElementData(localPlayer, "player:id"))
	table.insert(slenderObjects, obj)
end 

local function deleteSlenderObjects()
	for k, v in ipairs(slenderObjects) do 
		destroyElement(v)
	end
	slenderObjects = {}
end 

local function triggerResourceStart(theMap)
	if(theMap == "forest") then
		sound["grillen"] = playSlenderSound3D("grillen2.mp3", -742.23272705078, -2068.0236816406, 20.0146446228027, true)
		setSoundMaxDistance(sound["grillen"], 500)
		
		createSlenderObject(791,-660.8460693,-2345.0302734,35.1209946,0.0000000,0.0000000,74.9981689); --object(vbg_fir_copse)(1)
		createSlenderObject(791,-598.9558716,-2359.6113281,27.1845379,0.0000000,0.0000000,74.9981689); --object(vbg_fir_copse)(2)
		createSlenderObject(791,-512.4878540,-2207.3793945,47.7305222,0.0000000,0.0000000,74.9981689); --object(vbg_fir_copse)(3)
		createSlenderObject(657,-579.9409790,-2250.2871094,25.2155609,0.0000000,0.0000000,0.0000000); --object(pinetree02)(1)
		createSlenderObject(657,-583.7167969,-2256.1245117,24.9375687,0.0000000,0.0000000,0.0000000); --object(pinetree02)(2)
		createSlenderObject(657,-589.3218384,-2245.9904785,24.6077194,0.0000000,0.0000000,0.0000000); --object(pinetree02)(3)
		createSlenderObject(657,-602.0469971,-2271.4726562,24.8500080,0.0000000,0.0000000,0.0000000); --object(pinetree02)(4)
		createSlenderObject(657,-586.6109619,-2269.7248535,25.0214405,0.0000000,0.0000000,0.0000000); --object(pinetree02)(5)
		createSlenderObject(657,-591.0006104,-2259.6232910,24.4354973,0.0000000,0.0000000,0.0000000); --object(pinetree02)(6)
		createSlenderObject(657,-601.6727295,-2265.6003418,24.4357815,0.0000000,0.0000000,0.0000000); --object(pinetree02)(7)
		createSlenderObject(657,-614.2743530,-2283.5612793,25.4145622,0.0000000,0.0000000,0.0000000); --object(pinetree02)(8)
		createSlenderObject(657,-644.9937134,-2299.7917480,31.9105968,0.0000000,0.0000000,0.0000000); --object(pinetree02)(9)
		createSlenderObject(657,-653.9237671,-2288.7092285,28.8176765,0.0000000,0.0000000,0.0000000); --object(pinetree02)(10)
		createSlenderObject(657,-651.6862793,-2245.2780762,19.4354858,0.0000000,0.0000000,0.0000000); --object(pinetree02)(11)
		createSlenderObject(657,-645.1630859,-2229.2746582,17.0245438,0.0000000,0.0000000,0.0000000); --object(pinetree02)(12)
		createSlenderObject(657,-672.1141968,-2212.1762695,10.0204334,0.0000000,0.0000000,0.0000000); --object(pinetree02)(13)
		createSlenderObject(657,-653.3010254,-2201.0305176,10.0458469,0.0000000,0.0000000,0.0000000); --object(pinetree02)(14)
		createSlenderObject(657,-670.6181641,-2188.1020508,17.6114578,0.0000000,0.0000000,0.0000000); --object(pinetree02)(15)
		createSlenderObject(657,-686.1367188,-2206.6337891,17.7818642,0.0000000,0.0000000,0.0000000); --object(pinetree02)(16)
		createSlenderObject(657,-684.0037842,-2180.4772949,20.6998711,0.0000000,0.0000000,0.0000000); --object(pinetree02)(17)
		createSlenderObject(657,-704.2480469,-2169.5874023,20.0508213,0.0000000,0.0000000,0.0000000); --object(pinetree02)(18)
		createSlenderObject(657,-679.1808472,-2163.1589355,22.3604546,0.0000000,0.0000000,0.0000000); --object(pinetree02)(19)
		createSlenderObject(657,-704.4381104,-2183.8930664,18.7873535,0.0000000,0.0000000,0.0000000); --object(pinetree02)(20)
		createSlenderObject(657,-728.4834595,-2202.3566895,34.5565262,0.0000000,0.0000000,0.0000000); --object(pinetree02)(21)
		createSlenderObject(657,-726.1637573,-2239.9770508,24.6234894,0.0000000,0.0000000,0.0000000); --object(pinetree02)(22)
		createSlenderObject(657,-735.3946533,-2266.6621094,29.1358070,0.0000000,0.0000000,0.0000000); --object(pinetree02)(23)
		createSlenderObject(657,-738.6113281,-2282.0302734,32.6241989,0.0000000,0.0000000,0.0000000); --object(pinetree02)(24)
		createSlenderObject(657,-716.1182251,-2262.0625000,24.9647102,0.0000000,0.0000000,0.0000000); --object(pinetree02)(25)
		createSlenderObject(657,-765.0727539,-2285.7092285,35.6701126,0.0000000,0.0000000,0.0000000); --object(pinetree02)(26)
		createSlenderObject(657,-767.6701050,-2264.4948730,34.5865059,0.0000000,0.0000000,0.0000000); --object(pinetree02)(27)
		createSlenderObject(657,-764.1840210,-2239.6459961,24.5279770,0.0000000,0.0000000,0.0000000); --object(pinetree02)(28)
		createSlenderObject(657,-768.8023682,-2210.0168457,18.6807728,0.0000000,0.0000000,0.0000000); --object(pinetree02)(29)
		createSlenderObject(657,-780.0192871,-2182.1591797,20.9479637,0.0000000,0.0000000,0.0000000); --object(pinetree02)(30)
		createSlenderObject(657,-789.2587891,-2146.6650391,23.0866547,0.0000000,0.0000000,0.0000000); --object(pinetree02)(31)
		createSlenderObject(657,-764.3865967,-2125.7507324,24.1916656,0.0000000,0.0000000,0.0000000); --object(pinetree02)(32)
		createSlenderObject(657,-787.5699463,-2122.7050781,24.3833084,0.0000000,0.0000000,0.0000000); --object(pinetree02)(33)
		createSlenderObject(657,-776.0838013,-2111.3308105,23.7899342,0.0000000,0.0000000,0.0000000); --object(pinetree02)(34)
		createSlenderObject(657,-762.4631958,-2137.1914062,24.6434746,0.0000000,0.0000000,0.0000000); --object(pinetree02)(35)
		createSlenderObject(657,-732.8599854,-2127.6450195,24.8372231,0.0000000,0.0000000,0.0000000); --object(pinetree02)(36)
		createSlenderObject(657,-750.8962402,-2118.1828613,23.9546528,0.0000000,0.0000000,0.0000000); --object(pinetree02)(37)
		createSlenderObject(657,-759.9253540,-2108.0922852,22.0270786,0.0000000,0.0000000,0.0000000); --object(pinetree02)(38)
		createSlenderObject(657,-723.1307373,-2104.8981934,19.2957821,0.0000000,0.0000000,0.0000000); --object(pinetree02)(39)
		createSlenderObject(657,-699.1116333,-2115.4460449,27.7731113,0.0000000,0.0000000,0.0000000); --object(pinetree02)(40)
		createSlenderObject(657,-706.0391846,-2106.1645508,25.0568027,0.0000000,0.0000000,0.0000000); --object(pinetree02)(41)
		createSlenderObject(657,-720.0841064,-2115.6674805,24.4011879,0.0000000,0.0000000,0.0000000); --object(pinetree02)(42)
		createSlenderObject(657,-710.4758301,-2090.5397949,19.9903145,0.0000000,0.0000000,0.0000000); --object(pinetree02)(43)
		createSlenderObject(657,-693.3164062,-2085.1452637,25.1671867,0.0000000,0.0000000,0.0000000); --object(pinetree02)(44)
		createSlenderObject(657,-711.3149414,-2082.4948730,16.0438042,0.0000000,0.0000000,0.0000000); --object(pinetree02)(45)
		createSlenderObject(657,-736.7538452,-2096.6953125,13.2885246,0.0000000,0.0000000,0.0000000); --object(pinetree02)(46)
		createSlenderObject(657,-718.7034912,-2094.9538574,17.3643799,0.0000000,0.0000000,0.0000000); --object(pinetree02)(47)
		createSlenderObject(657,-704.3331299,-2068.5168457,15.1144981,0.0000000,0.0000000,0.0000000); --object(pinetree02)(48)
		createSlenderObject(657,-687.9824829,-2056.4899902,24.0709648,0.0000000,0.0000000,0.0000000); --object(pinetree02)(49)
		createSlenderObject(657,-694.9944458,-2072.4023438,23.5940914,0.0000000,0.0000000,0.0000000); --object(pinetree02)(50)
		createSlenderObject(657,-675.8539429,-2070.0500488,25.0072746,0.0000000,0.0000000,0.0000000); --object(pinetree02)(51)
		createSlenderObject(657,-695.9682617,-2059.0373535,20.8611469,0.0000000,0.0000000,0.0000000); --object(pinetree02)(52)
		createSlenderObject(657,-662.5838623,-2046.0775146,24.7734852,0.0000000,0.0000000,0.0000000); --object(pinetree02)(53)
		createSlenderObject(657,-679.9432983,-2037.9769287,23.1770306,0.0000000,0.0000000,0.0000000); --object(pinetree02)(54)
		createSlenderObject(657,-703.7902222,-2048.8908691,13.7264824,0.0000000,0.0000000,0.0000000); --object(pinetree02)(55)
		createSlenderObject(657,-696.9568481,-2035.3664551,17.7317829,0.0000000,0.0000000,0.0000000); --object(pinetree02)(56)
		createSlenderObject(657,-655.2341919,-2065.6865234,26.1823730,0.0000000,0.0000000,0.0000000); --object(pinetree02)(57)
		createSlenderObject(657,-659.2877197,-2094.9509277,25.5289383,0.0000000,0.0000000,0.0000000); --object(pinetree02)(58)
		createSlenderObject(657,-630.8984375,-2033.7443848,32.1065445,0.0000000,0.0000000,0.0000000); --object(pinetree02)(59)
		createSlenderObject(657,-625.8482666,-2026.9638672,33.0558319,0.0000000,0.0000000,0.0000000); --object(pinetree02)(60)
		createSlenderObject(657,-604.5946045,-2037.5921631,39.4627342,0.0000000,0.0000000,0.0000000); --object(pinetree02)(61)
		createSlenderObject(657,-603.3919067,-2019.9067383,40.2507782,0.0000000,0.0000000,0.0000000); --object(pinetree02)(62)
		createSlenderObject(657,-594.3319702,-2029.1228027,42.0974197,0.0000000,0.0000000,0.0000000); --object(pinetree02)(63)
		createSlenderObject(657,-628.0605469,-2023.6490479,32.2938042,0.0000000,0.0000000,0.0000000); --object(pinetree02)(64)
		createSlenderObject(657,-651.9583130,-2015.0533447,25.7865181,0.0000000,0.0000000,0.0000000); --object(pinetree02)(65)
		createSlenderObject(657,-637.3105469,-2022.7714844,29.8479424,0.0000000,0.0000000,0.0000000); --object(pinetree02)(66)
		createSlenderObject(657,-659.8334351,-2002.8103027,23.9536629,0.0000000,0.0000000,0.0000000); --object(pinetree02)(67)
		createSlenderObject(657,-674.6606445,-1992.8232422,23.7053261,0.0000000,0.0000000,0.0000000); --object(pinetree02)(68)
		createSlenderObject(657,-672.1692505,-1972.3109131,20.6929626,0.0000000,0.0000000,0.0000000); --object(pinetree02)(69)
		createSlenderObject(657,-707.6430664,-1976.1870117,12.6872482,0.0000000,0.0000000,0.0000000); --object(pinetree02)(70)
		createSlenderObject(657,-689.1135254,-1990.3990479,21.0478153,0.0000000,0.0000000,0.0000000); --object(pinetree02)(71)
		createSlenderObject(657,-714.6550903,-2004.0522461,10.3597984,0.0000000,0.0000000,0.0000000); --object(pinetree02)(72)
		createSlenderObject(657,-703.7901001,-1994.8819580,15.7379360,0.0000000,0.0000000,0.0000000); --object(pinetree02)(73)
		createSlenderObject(657,-703.6260986,-2023.5566406,14.5379677,0.0000000,0.0000000,0.0000000); --object(pinetree02)(74)
		createSlenderObject(657,-723.4765625,-2072.7910156,8.2113419,0.0000000,0.0000000,0.0000000); --object(pinetree02)(75)
		createSlenderObject(657,-771.2513428,-2082.3615723,12.8919067,0.0000000,0.0000000,0.0000000); --object(pinetree02)(76)
		createSlenderObject(657,-754.5175781,-2075.8022461,8.1771698,0.0000000,0.0000000,0.0000000); --object(pinetree02)(77)
		createSlenderObject(657,-787.4117432,-2088.1811523,23.7667961,0.0000000,0.0000000,0.0000000); --object(pinetree02)(78)
		createSlenderObject(657,-800.5772705,-2042.3789062,15.9321632,0.0000000,0.0000000,0.0000000); --object(pinetree02)(79)
		createSlenderObject(657,-804.0614014,-2049.0485840,20.5645103,0.0000000,0.0000000,0.0000000); --object(pinetree02)(80)
		createSlenderObject(657,-817.3531494,-2025.8737793,18.2989159,0.0000000,0.0000000,0.0000000); --object(pinetree02)(81)
		createSlenderObject(657,-821.3612061,-1980.8701172,5.1400032,0.0000000,0.0000000,0.0000000); --object(pinetree02)(82)
		createSlenderObject(657,-830.9611206,-1985.7955322,12.3694763,0.0000000,0.0000000,0.0000000); --object(pinetree02)(83)
		createSlenderObject(657,-831.7071533,-2185.8017578,21.6609592,0.0000000,0.0000000,0.0000000); --object(pinetree02)(84)
		createSlenderObject(657,-857.9454346,-2184.0427246,24.4595604,0.0000000,0.0000000,0.0000000); --object(pinetree02)(85)
		createSlenderObject(657,-845.1810303,-2195.5122070,26.5095177,0.0000000,0.0000000,0.0000000); --object(pinetree02)(86)
		createSlenderObject(657,-860.5033569,-2242.3894043,24.1269150,0.0000000,0.0000000,0.0000000); --object(pinetree02)(87)
		createSlenderObject(657,-861.5266724,-2223.2849121,25.7412376,0.0000000,0.0000000,0.0000000); --object(pinetree02)(88)
		createSlenderObject(657,-873.7965698,-2249.9907227,27.6739273,0.0000000,0.0000000,0.0000000); --object(pinetree02)(89)
		createSlenderObject(657,-865.1459351,-2274.5847168,25.7810974,0.0000000,0.0000000,0.0000000); --object(pinetree02)(90)
		createSlenderObject(657,-869.6187134,-2291.1245117,27.6286850,0.0000000,0.0000000,0.0000000); --object(pinetree02)(91)
		createSlenderObject(657,-855.6101074,-2284.2165527,23.3222046,0.0000000,0.0000000,0.0000000); --object(pinetree02)(92)
		createSlenderObject(657,-830.1680908,-2283.1579590,21.2692146,0.0000000,0.0000000,0.0000000); --object(pinetree02)(93)
		createSlenderObject(657,-820.1892090,-2292.3391113,26.4653397,0.0000000,0.0000000,0.0000000); --object(pinetree02)(94)
		createSlenderObject(657,-821.3764648,-2306.8701172,28.1476097,0.0000000,0.0000000,0.0000000); --object(pinetree02)(95)
		createSlenderObject(657,-784.4371948,-2324.1958008,40.1138725,0.0000000,0.0000000,0.0000000); --object(pinetree02)(96)
		createSlenderObject(657,-777.4406738,-2312.3715820,38.5925636,0.0000000,0.0000000,0.0000000); --object(pinetree02)(97)
		createSlenderObject(657,-826.7092896,-2333.7097168,37.3264008,0.0000000,0.0000000,0.0000000); --object(pinetree02)(98)
		createSlenderObject(657,-810.5473022,-2335.7651367,40.4044151,0.0000000,0.0000000,0.0000000); --object(pinetree02)(99)
		createSlenderObject(657,-846.5073242,-2335.8430176,37.8694458,0.0000000,0.0000000,0.0000000); --object(pinetree02)(100)
		createSlenderObject(657,-876.0552368,-2301.7507324,31.7965984,0.0000000,0.0000000,0.0000000); --object(pinetree02)(101)
		createSlenderObject(657,-859.1990356,-2263.4316406,23.5154228,0.0000000,0.0000000,0.0000000); --object(pinetree02)(102)
		createSlenderObject(657,-801.8272095,-2303.5485840,31.4939041,0.0000000,0.0000000,0.0000000); --object(pinetree02)(103)
		createSlenderObject(657,-789.8485718,-2290.9562988,34.4051285,0.0000000,0.0000000,0.0000000); --object(pinetree02)(104)
		createSlenderObject(657,-808.4633789,-2268.0527344,37.5797653,0.0000000,0.0000000,0.0000000); --object(pinetree02)(105)
		createSlenderObject(657,-820.4790649,-2254.5832520,36.6562119,0.0000000,0.0000000,0.0000000); --object(pinetree02)(106)
		createSlenderObject(657,-782.3324585,-2277.0002441,35.7021866,0.0000000,0.0000000,0.0000000); --object(pinetree02)(107)
		createSlenderObject(657,-794.7390137,-2335.4191895,40.8723145,0.0000000,0.0000000,0.0000000); --object(pinetree02)(108)
		createSlenderObject(657,-902.8886108,-2257.6870117,37.5959129,0.0000000,0.0000000,0.0000000); --object(pinetree02)(109)
		createSlenderObject(657,-907.3948364,-2242.6376953,36.9843750,0.0000000,0.0000000,0.0000000); --object(pinetree02)(110)
		createSlenderObject(658,-908.6154175,-2267.3630371,41.2856064,0.0000000,0.0000000,0.0000000); --object(pinetree04)(1)
		createSlenderObject(658,-883.9038086,-2230.6093750,29.8327694,0.0000000,0.0000000,0.0000000); --object(pinetree04)(2)
		createSlenderObject(658,-877.1337891,-2214.0888672,30.2581902,0.0000000,0.0000000,0.0000000); --object(pinetree04)(3)
		createSlenderObject(658,-847.1448364,-2207.1950684,25.3795929,0.0000000,0.0000000,0.0000000); --object(pinetree04)(4)
		createSlenderObject(658,-822.5305176,-2200.8515625,23.6132736,0.0000000,0.0000000,0.0000000); --object(pinetree04)(5)
		createSlenderObject(658,-794.5094604,-2145.7211914,22.7274799,0.0000000,0.0000000,0.0000000); --object(pinetree04)(6)
		createSlenderObject(658,-791.5112915,-2110.0578613,23.8730469,0.0000000,0.0000000,0.0000000); --object(pinetree04)(7)
		createSlenderObject(658,-807.8344116,-2073.4353027,23.7656593,0.0000000,0.0000000,0.0000000); --object(pinetree04)(8)
		createSlenderObject(658,-779.6491699,-2128.7492676,24.5755196,0.0000000,0.0000000,0.0000000); --object(pinetree04)(9)
		createSlenderObject(658,-747.7102661,-2130.8107910,24.3045845,0.0000000,0.0000000,0.0000000); --object(pinetree04)(10)
		createSlenderObject(658,-701.4025879,-2112.5495605,24.9729824,0.0000000,0.0000000,0.0000000); --object(pinetree04)(11)
		createSlenderObject(658,-665.7539062,-2078.4084473,24.4643593,0.0000000,0.0000000,0.0000000); --object(pinetree04)(12)
		createSlenderObject(658,-667.6455688,-2029.2794189,23.8492661,0.0000000,0.0000000,0.0000000); --object(pinetree04)(13)
		createSlenderObject(658,-675.3226929,-2002.9003906,23.0838089,0.0000000,0.0000000,0.0000000); --object(pinetree04)(14)
		createSlenderObject(658,-640.1563721,-2049.7033691,30.7592049,0.0000000,0.0000000,0.0000000); --object(pinetree04)(15)
		createSlenderObject(658,-569.7202148,-2017.9344482,47.6619415,0.0000000,0.0000000,0.0000000); --object(pinetree04)(16)
		createSlenderObject(658,-540.8458862,-2033.5989990,51.1225433,0.0000000,0.0000000,0.0000000); --object(pinetree04)(17)
		createSlenderObject(658,-548.6004028,-2016.9907227,49.4869041,0.0000000,0.0000000,0.0000000); --object(pinetree04)(18)
		createSlenderObject(658,-531.2360840,-2008.4934082,49.1413383,0.0000000,0.0000000,0.0000000); --object(pinetree04)(19)
		createSlenderObject(658,-588.7336426,-1988.3825684,42.7173042,0.0000000,0.0000000,0.0000000); --object(pinetree04)(20)
		createSlenderObject(658,-621.8555908,-1987.4968262,49.1330833,0.0000000,0.0000000,0.0000000); --object(pinetree04)(21)
		createSlenderObject(658,-636.5635376,-1991.2971191,46.1048813,0.0000000,0.0000000,0.0000000); --object(pinetree04)(22)
		createSlenderObject(658,-617.5532837,-2002.7330322,47.9453201,0.0000000,0.0000000,0.0000000); --object(pinetree04)(23)
		createSlenderObject(658,-629.1636963,-1999.0173340,47.8011703,0.0000000,0.0000000,0.0000000); --object(pinetree04)(24)
		createSlenderObject(658,-676.5621338,-1949.0253906,15.4560242,0.0000000,0.0000000,0.0000000); --object(pinetree04)(25)
		createSlenderObject(658,-683.1366577,-1965.6939697,20.5749664,0.0000000,0.0000000,0.0000000); --object(pinetree04)(26)
		createSlenderObject(658,-693.1192017,-1965.5854492,17.1794987,0.0000000,0.0000000,0.0000000); --object(pinetree04)(27)
		createSlenderObject(658,-681.9479980,-1979.2355957,23.0927353,0.0000000,0.0000000,0.0000000); --object(pinetree04)(28)
		createSlenderObject(658,-687.8663940,-2102.5878906,25.0071907,0.0000000,0.0000000,0.0000000); --object(pinetree04)(29)
		createSlenderObject(658,-784.6575928,-2096.6154785,23.5158577,0.0000000,0.0000000,0.0000000); --object(pinetree04)(30)
		createSlenderObject(658,-810.2438354,-2169.9836426,21.1241188,0.0000000,0.0000000,0.0000000); --object(pinetree04)(31)
		createSlenderObject(658,-800.1240845,-2190.6489258,22.5001698,0.0000000,0.0000000,0.0000000); --object(pinetree04)(32)
		createSlenderObject(658,-779.4584351,-2211.6240234,19.2472343,0.0000000,0.0000000,0.0000000); --object(pinetree04)(33)
		createSlenderObject(657,-845.4282227,-1995.6180420,18.0143661,0.0000000,0.0000000,0.0000000); --object(pinetree02)(111)
		createSlenderObject(657,-850.9893799,-1963.6916504,14.4114761,0.0000000,0.0000000,0.0000000); --object(pinetree02)(112)
		createSlenderObject(657,-854.0302124,-1975.8688965,15.9091835,0.0000000,0.0000000,0.0000000); --object(pinetree02)(113)
		createSlenderObject(657,-833.2855835,-1967.7341309,11.1895905,0.0000000,0.0000000,0.0000000); --object(pinetree02)(114)
		createSlenderObject(657,-837.0228882,-1940.4134521,10.9149551,0.0000000,0.0000000,0.0000000); --object(pinetree02)(115)
		createSlenderObject(657,-854.2237549,-1946.8951416,13.2965279,0.0000000,0.0000000,0.0000000); --object(pinetree02)(116)
		createSlenderObject(657,-829.1669922,-1957.9475098,8.5864449,0.0000000,0.0000000,0.0000000); --object(pinetree02)(117)
		createSlenderObject(657,-838.0252075,-1950.3504639,11.5465775,0.0000000,0.0000000,0.0000000); --object(pinetree02)(118)
		createSlenderObject(657,-826.5039673,-1927.9396973,9.6790237,0.0000000,0.0000000,0.0000000); --object(pinetree02)(119)
		createSlenderObject(657,-839.6887207,-1919.3155518,11.9096603,0.0000000,0.0000000,0.0000000); --object(pinetree02)(120)
		createSlenderObject(657,-815.5826416,-1900.3266602,9.6272964,0.0000000,0.0000000,0.0000000); --object(pinetree02)(121)
		createSlenderObject(657,-827.2131958,-1914.1818848,10.1773529,0.0000000,0.0000000,0.0000000); --object(pinetree02)(122)
		createSlenderObject(657,-810.3531494,-1915.3206787,6.7118149,0.0000000,0.0000000,0.0000000); --object(pinetree02)(123)
		createSlenderObject(657,-813.1745605,-1929.7414551,6.1959724,0.0000000,0.0000000,0.0000000); --object(pinetree02)(124)
		createSlenderObject(657,-823.8820801,-1943.1402588,8.0807571,0.0000000,0.0000000,0.0000000); --object(pinetree02)(125)
		createSlenderObject(657,-806.6529541,-1908.0104980,7.3312874,0.0000000,0.0000000,0.0000000); --object(pinetree02)(126)
		createSlenderObject(657,-809.5805664,-1885.1754150,10.6774559,0.0000000,0.0000000,0.0000000); --object(pinetree02)(127)
		createSlenderObject(657,-779.7330322,-1882.9521484,9.0669670,0.0000000,0.0000000,0.0000000); --object(pinetree02)(128)
		createSlenderObject(657,-793.1853638,-1870.4667969,10.6039352,0.0000000,0.0000000,0.0000000); --object(pinetree02)(129)
		createSlenderObject(657,-787.7678833,-1889.9362793,8.6373291,0.0000000,0.0000000,0.0000000); --object(pinetree02)(130)
		createSlenderObject(657,-765.3339844,-1884.2600098,7.4193153,0.0000000,0.0000000,0.0000000); --object(pinetree02)(131)
		createSlenderObject(657,-772.3639526,-1872.1673584,11.1825447,0.0000000,0.0000000,0.0000000); --object(pinetree02)(132)
		createSlenderObject(657,-753.3834839,-1854.8386230,12.1390533,0.0000000,0.0000000,0.0000000); --object(pinetree02)(133)
		createSlenderObject(657,-753.3770752,-1870.8316650,9.7463379,0.0000000,0.0000000,0.0000000); --object(pinetree02)(134)
		createSlenderObject(657,-760.5592651,-1871.1339111,9.9997978,0.0000000,0.0000000,0.0000000); --object(pinetree02)(135)
		createSlenderObject(657,-779.3815918,-1901.3885498,5.7209930,0.0000000,0.0000000,0.0000000); --object(pinetree02)(136)
		createSlenderObject(657,-787.9258423,-1912.5748291,5.4115524,0.0000000,0.0000000,0.0000000); --object(pinetree02)(137)
		createSlenderObject(657,-750.0861816,-1885.9890137,5.2687302,0.0000000,0.0000000,0.0000000); --object(pinetree02)(138)
		createSlenderObject(657,-718.4340210,-1857.7034912,12.6740952,0.0000000,0.0000000,0.0000000); --object(pinetree02)(139)
		createSlenderObject(657,-723.6878662,-1869.2122803,7.8582611,0.0000000,0.0000000,0.0000000); --object(pinetree02)(140)
		createSlenderObject(657,-739.1405029,-1857.4748535,12.6218262,0.0000000,0.0000000,0.0000000); --object(pinetree02)(141)
		createSlenderObject(657,-728.8236694,-1867.3558350,9.4460869,0.0000000,0.0000000,0.0000000); --object(pinetree02)(142)
		createSlenderObject(657,-727.9985352,-1843.7320557,13.4112816,0.0000000,0.0000000,0.0000000); --object(pinetree02)(143)
		createSlenderObject(657,-692.2817993,-1871.8856201,8.5026970,0.0000000,0.0000000,0.0000000); --object(pinetree02)(144)
		createSlenderObject(657,-671.5578003,-1869.0185547,10.8481178,0.0000000,0.0000000,0.0000000); --object(pinetree02)(145)
		createSlenderObject(657,-683.9014893,-1844.9102783,15.6424332,0.0000000,0.0000000,0.0000000); --object(pinetree02)(146)
		createSlenderObject(657,-700.7232056,-1855.8118896,12.6647186,0.0000000,0.0000000,0.0000000); --object(pinetree02)(147)
		createSlenderObject(657,-703.0692139,-1845.7102051,14.1517868,0.0000000,0.0000000,0.0000000); --object(pinetree02)(148)
		createSlenderObject(657,-706.6035767,-1867.0633545,9.4048309,0.0000000,0.0000000,0.0000000); --object(pinetree02)(149)
		createSlenderObject(657,-685.0109253,-1858.1391602,12.9867096,0.0000000,0.0000000,0.0000000); --object(pinetree02)(150)
		createSlenderObject(657,-657.3927002,-1854.8356934,17.3142090,0.0000000,0.0000000,0.0000000); --object(pinetree02)(151)
		createSlenderObject(657,-670.9473267,-1919.7597656,9.0642548,0.0000000,0.0000000,0.0000000); --object(pinetree02)(152)
		createSlenderObject(657,-658.0078735,-1932.2050781,14.0812340,0.0000000,0.0000000,0.0000000); --object(pinetree02)(153)
		createSlenderObject(657,-685.6770630,-1923.9793701,12.7161942,0.0000000,0.0000000,0.0000000); --object(pinetree02)(154)
		createSlenderObject(657,-646.6356201,-1906.4914551,7.8044357,0.0000000,0.0000000,0.0000000); --object(pinetree02)(155)
		createSlenderObject(657,-628.3953857,-1912.8549805,11.8207932,0.0000000,0.0000000,0.0000000); --object(pinetree02)(156)
		createSlenderObject(657,-609.4458008,-1908.6647949,10.8471527,0.0000000,0.0000000,0.0000000); --object(pinetree02)(157)
		createSlenderObject(657,-605.9515991,-1925.6058350,21.4682579,0.0000000,0.0000000,0.0000000); --object(pinetree02)(158)
		createSlenderObject(657,-629.0971680,-1932.2611084,20.7905769,0.0000000,0.0000000,0.0000000); --object(pinetree02)(159)
		createSlenderObject(657,-647.7696533,-1949.7540283,22.6907158,0.0000000,0.0000000,0.0000000); --object(pinetree02)(160)
		createSlenderObject(657,-660.6467896,-1960.1699219,20.8346443,0.0000000,0.0000000,0.0000000); --object(pinetree02)(161)
		createSlenderObject(657,-647.0999146,-2039.0214844,27.7820110,0.0000000,0.0000000,0.0000000); --object(pinetree02)(162)
		createSlenderObject(658,-675.3222656,-2002.9003906,23.0838089,0.0000000,0.0000000,0.0000000); --object(pinetree04)(34)
		createSlenderObject(658,-818.7452393,-1961.3878174,7.0505066,0.0000000,0.0000000,0.0000000); --object(pinetree04)(35)
		createSlenderObject(658,-844.3056641,-1969.8172607,14.7547264,0.0000000,0.0000000,0.0000000); --object(pinetree04)(36)
		createSlenderObject(658,-816.1192017,-1920.8161621,15.8501244,0.0000000,0.0000000,0.0000000); --object(pinetree04)(37)
		createSlenderObject(658,-799.8284912,-1893.4014893,9.5401230,0.0000000,0.0000000,0.0000000); --object(pinetree04)(38)
		createSlenderObject(658,-768.1610107,-1883.4897461,15.4641113,0.0000000,0.0000000,0.0000000); --object(pinetree04)(39)
		createSlenderObject(791,-695.3681641,-1982.8652344,6.5777893,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(4)
		createSlenderObject(791,-670.5378418,-1860.5538330,4.7353745,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(6)
		createSlenderObject(791,-714.6262207,-1859.9073486,7.0417938,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(7)
		createSlenderObject(4100,-765.6492920,-2213.6386719,21.7893105,0.0000000,0.0000000,0.0000000); --object(meshfence1_lan)(1)
		createSlenderObject(4100,-776.2098999,-2222.3085938,22.1647301,0.0000000,4.2500000,0.0000000); --object(meshfence1_lan)(2)
		createSlenderObject(4100,-776.1339111,-2222.6323242,19.1897526,0.0000000,4.2462158,0.0000000); --object(meshfence1_lan)(3)
		createSlenderObject(4100,-765.6484375,-2213.6386719,18.9893379,0.0000000,0.0000000,0.0000000); --object(meshfence1_lan)(4)
		createSlenderObject(657,-799.7402954,-2155.1118164,21.5590229,0.0000000,0.0000000,0.0000000); --object(pinetree02)(163)
		createSlenderObject(657,-801.5560303,-2167.1926270,20.7982483,0.0000000,0.0000000,0.0000000); --object(pinetree02)(164)
		createSlenderObject(657,-787.4245605,-2168.6308594,22.1422691,0.0000000,0.0000000,0.0000000); --object(pinetree02)(165)
		createSlenderObject(657,-794.6180420,-2182.0080566,22.0436249,0.0000000,0.0000000,0.0000000); --object(pinetree02)(166)
		createSlenderObject(657,-811.8706055,-2183.1054688,20.3479691,0.0000000,0.0000000,0.0000000); --object(pinetree02)(167)
		createSlenderObject(657,-814.3181763,-2193.1645508,22.0454102,0.0000000,0.0000000,0.0000000); --object(pinetree02)(168)
		createSlenderObject(657,-830.4998169,-2182.6340332,22.0749855,0.0000000,0.0000000,0.0000000); --object(pinetree02)(169)
		createSlenderObject(657,-831.7421875,-2191.8706055,23.6331711,0.0000000,0.0000000,0.0000000); --object(pinetree02)(170)
		createSlenderObject(657,-843.9549561,-2182.3022461,23.6528797,0.0000000,0.0000000,0.0000000); --object(pinetree02)(172)
		createSlenderObject(657,-852.0079346,-2194.0046387,27.3047104,0.0000000,0.0000000,0.0000000); --object(pinetree02)(173)
		createSlenderObject(657,-821.2053223,-2179.3833008,21.1641998,0.0000000,0.0000000,0.0000000); --object(pinetree02)(174)
		createSlenderObject(657,-810.3991089,-2157.8513184,22.0128899,0.0000000,0.0000000,0.0000000); --object(pinetree02)(175)
		createSlenderObject(657,-798.7680664,-2135.5634766,23.2132778,0.0000000,0.0000000,0.0000000); --object(pinetree02)(176)
		createSlenderObject(657,-787.6463623,-2134.3493652,24.2172089,0.0000000,0.0000000,0.0000000); --object(pinetree02)(177)
		createSlenderObject(657,-745.7841797,-2140.6831055,24.6607094,0.0000000,0.0000000,0.0000000); --object(pinetree02)(178)
		createSlenderObject(657,-732.1046753,-2139.5422363,25.2023582,0.0000000,0.0000000,0.0000000); --object(pinetree02)(179)
		createSlenderObject(657,-727.8166504,-2133.1589355,25.1485767,0.0000000,0.0000000,0.0000000); --object(pinetree02)(180)
		createSlenderObject(657,-677.9871826,-2117.3666992,25.1908493,0.0000000,0.0000000,0.0000000); --object(pinetree02)(181)
		createSlenderObject(657,-698.3761597,-2129.7832031,24.9619293,0.0000000,0.0000000,0.0000000); --object(pinetree02)(182)
		createSlenderObject(657,-713.2904663,-2129.4831543,25.2882328,0.0000000,0.0000000,0.0000000); --object(pinetree02)(183)
		createSlenderObject(657,-705.8415527,-2119.2941895,24.8421135,0.0000000,0.0000000,0.0000000); --object(pinetree02)(184)
		createSlenderObject(657,-666.1711426,-2090.7392578,24.6900101,0.0000000,0.0000000,0.0000000); --object(pinetree02)(185)
		createSlenderObject(657,-689.9294434,-2091.0266113,25.3009510,0.0000000,0.0000000,0.0000000); --object(pinetree02)(186)
		createSlenderObject(657,-669.3737793,-2073.7832031,24.1099052,0.0000000,0.0000000,0.0000000); --object(pinetree02)(187)
		createSlenderObject(657,-687.4993896,-2097.8200684,24.8740101,0.0000000,0.0000000,0.0000000); --object(pinetree02)(188)
		createSlenderObject(657,-677.8115234,-2111.7062988,24.9481239,0.0000000,0.0000000,0.0000000); --object(pinetree02)(189)
		createSlenderObject(657,-714.0955811,-2121.3415527,24.9280567,0.0000000,0.0000000,0.0000000); --object(pinetree02)(190)
		createSlenderObject(657,-722.5484619,-2163.9255371,20.5354729,0.0000000,0.0000000,0.0000000); --object(pinetree02)(191)
		createSlenderObject(657,-761.6177368,-2161.7299805,26.0237274,0.0000000,0.0000000,0.0000000); --object(pinetree02)(192)
		createSlenderObject(657,-754.6822510,-2166.5170898,29.8722687,0.0000000,0.0000000,0.0000000); --object(pinetree02)(193)
		createSlenderObject(657,-767.3596802,-2165.3666992,25.9174900,0.0000000,0.0000000,0.0000000); --object(pinetree02)(194)
		createSlenderObject(657,-755.4704590,-2154.0651855,25.2562485,0.0000000,0.0000000,0.0000000); --object(pinetree02)(195)
		createSlenderObject(657,-773.1654053,-2171.5046387,24.6762028,0.0000000,0.0000000,0.0000000); --object(pinetree02)(196)
		createSlenderObject(657,-761.7573853,-2189.5810547,26.6895542,0.0000000,0.0000000,0.0000000); --object(pinetree02)(197)
		createSlenderObject(657,-759.1604004,-2178.8591309,29.4977417,0.0000000,0.0000000,0.0000000); --object(pinetree02)(198)
		createSlenderObject(657,-746.8863525,-2190.4428711,34.6604996,0.0000000,0.0000000,0.0000000); --object(pinetree02)(199)
		createSlenderObject(657,-755.1184692,-2199.6733398,29.1545067,0.0000000,0.0000000,0.0000000); --object(pinetree02)(200)
		createSlenderObject(657,-767.1939087,-2186.7001953,25.2673225,0.0000000,0.0000000,0.0000000); --object(pinetree02)(201)
		createSlenderObject(657,-746.8388672,-2183.0134277,35.1885223,0.0000000,0.0000000,0.0000000); --object(pinetree02)(202)
		createSlenderObject(657,-762.6179810,-2202.7551270,22.6115456,0.0000000,0.0000000,0.0000000); --object(pinetree02)(203)
		createSlenderObject(657,-755.7170410,-2213.1545410,26.0533714,0.0000000,0.0000000,0.0000000); --object(pinetree02)(204)
		createSlenderObject(657,-772.7213745,-2194.3935547,18.1923332,0.0000000,0.0000000,0.0000000); --object(pinetree02)(205)
		createSlenderObject(657,-784.0861206,-2201.7976074,20.2924728,0.0000000,0.0000000,0.0000000); --object(pinetree02)(206)
		createSlenderObject(3256,-852.8527832,-2220.7270508,9.7984791,0.0000000,0.0000000,0.0000000); --object(refchimny01)(1)
		createSlenderObject(10831,-904.2632446,-2185.7172852,32.5780640,0.0000000,0.0000000,80.0000000); --object(drydock3_sfse)(1)
		createSlenderObject(658,-906.2002563,-2212.3476562,34.8723984,0.0000000,0.0000000,0.0000000); --object(pinetree04)(40)
		createSlenderObject(658,-918.7832642,-2183.3920898,31.7061272,0.0000000,0.0000000,0.0000000); --object(pinetree04)(41)
		createSlenderObject(658,-920.9760132,-2175.6760254,31.4769478,0.0000000,0.0000000,0.0000000); --object(pinetree04)(42)
		createSlenderObject(658,-927.5992432,-2178.5683594,32.5021515,0.0000000,0.0000000,0.0000000); --object(pinetree04)(43)
		createSlenderObject(658,-948.7777100,-2187.2456055,37.2256088,0.0000000,0.0000000,0.0000000); --object(pinetree04)(44)
		createSlenderObject(658,-933.6004639,-2191.5266113,35.2219696,0.0000000,0.0000000,0.0000000); --object(pinetree04)(45)
		createSlenderObject(658,-941.6040649,-2176.3137207,34.5379066,0.0000000,0.0000000,0.0000000); --object(pinetree04)(46)
		createSlenderObject(658,-940.8755493,-2167.9316406,33.3080826,0.0000000,0.0000000,0.0000000); --object(pinetree04)(47)
		createSlenderObject(658,-949.4907837,-2170.2680664,34.0769196,0.0000000,0.0000000,0.0000000); --object(pinetree04)(48)
		createSlenderObject(658,-950.6387939,-2181.3737793,37.6243896,0.0000000,0.0000000,0.0000000); --object(pinetree04)(49)
		createSlenderObject(658,-919.1590576,-2207.7111816,39.0347824,0.0000000,0.0000000,0.0000000); --object(pinetree04)(50)
		createSlenderObject(658,-909.3646240,-2205.1789551,35.3180161,0.0000000,0.0000000,0.0000000); --object(pinetree04)(51)
		createSlenderObject(658,-925.2160034,-2194.8449707,36.2313385,0.0000000,0.0000000,0.0000000); --object(pinetree04)(52)
		createSlenderObject(658,-904.4747314,-2171.4091797,38.1657066,0.0000000,0.0000000,0.0000000); --object(pinetree04)(53)
		createSlenderObject(658,-883.0654297,-2173.9868164,31.7842731,0.0000000,0.0000000,0.0000000); --object(pinetree04)(54)
		createSlenderObject(658,-885.7249146,-2181.0964355,27.2890739,0.0000000,0.0000000,0.0000000); --object(pinetree04)(55)
		createSlenderObject(658,-882.1738281,-2208.6518555,30.7261581,0.0000000,0.0000000,0.0000000); --object(pinetree04)(56)
		createSlenderObject(2567,-899.7504883,-2178.1926270,30.8703537,0.0000000,0.0000000,80.0000000); --object(ab_warehouseshelf)(1)
		createSlenderObject(2567,-899.9276733,-2183.7209473,31.2170544,0.0000000,0.0000000,79.9969482); --object(ab_warehouseshelf)(2)
		createSlenderObject(2567,-904.3232422,-2190.4685059,33.3029594,0.0000000,0.0000000,159.9969482); --object(ab_warehouseshelf)(3)
		createSlenderObject(2567,-909.3059082,-2188.4033203,33.4074516,0.0000000,0.0000000,159.9938965); --object(ab_warehouseshelf)(4)
		createSlenderObject(2567,-907.4333496,-2182.8779297,32.1603661,0.0000000,0.0000000,159.9938965); --object(ab_warehouseshelf)(5)
		createSlenderObject(2567,-912.1539307,-2180.9111328,32.6291313,0.0000000,0.0000000,159.9938965); --object(ab_warehouseshelf)(6)
		createSlenderObject(2567,-914.5772095,-2177.1228027,32.7141914,0.0000000,0.0000000,249.9938965); --object(ab_warehouseshelf)(7)
		createSlenderObject(18260,-886.8325806,-2180.6811523,28.6381607,0.0000000,0.0000000,254.0000000); --object(crates01)(1)
		createSlenderObject(930,-898.3500977,-2184.4355469,29.5984859,0.0000000,0.0000000,70.0000000); --object(o2_bottles)(1)
		createSlenderObject(930,-898.2327881,-2182.8808594,29.4920597,0.0000000,0.0000000,99.9993896); --object(o2_bottles)(2)
		createSlenderObject(2669,-751.8295288,-2132.0974121,25.5987434,0.0000000,0.0000000,16.0000000); --object(cj_chris_crate)(1)
		createSlenderObject(2679,-750.3182373,-2134.3159180,25.4204979,0.0000000,0.0000000,50.0000000); --object(cj_chris_crate_rd)(1)
		createSlenderObject(3576,-755.3095093,-2135.4086914,25.9309177,0.0000000,0.0000000,0.0000000); --object(dockcrates2_la)(1)
		createSlenderObject(17033,-804.2935791,-2084.3088379,23.6870632,0.0000000,0.0000000,0.0000000); --object(cunt_rockgp2_15)(1)
		createSlenderObject(658,-793.3502197,-2078.4423828,23.8436165,0.0000000,0.0000000,0.0000000); --object(pinetree04)(57)
		createSlenderObject(658,-790.3548584,-2084.1306152,23.8437500,0.0000000,0.0000000,0.0000000); --object(pinetree04)(58)
		createSlenderObject(658,-796.7982178,-2093.4348145,23.6498337,0.0000000,0.0000000,0.0000000); --object(pinetree04)(59)
		createSlenderObject(658,-779.2333374,-2104.6635742,23.5360184,0.0000000,0.0000000,0.0000000); --object(pinetree04)(60)
		createSlenderObject(658,-759.0512695,-2087.4958496,9.1623993,0.0000000,0.0000000,0.0000000); --object(pinetree04)(61)
		createSlenderObject(658,-779.1748047,-2087.1577148,19.6077042,0.0000000,0.0000000,0.0000000); --object(pinetree04)(62)
		createSlenderObject(658,-769.3012695,-2064.4160156,10.1079941,0.0000000,0.0000000,0.0000000); --object(pinetree04)(63)
		createSlenderObject(791,-787.8099976,-2073.6472168,8.5496368,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(8)
		createSlenderObject(791,-776.3764648,-2120.6179199,8.5496368,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(9)
		createSlenderObject(791,-723.6690063,-2131.3083496,8.5496368,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(10)
		createSlenderObject(791,-725.0189819,-2096.2167969,8.5496368,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(11)
		createSlenderObject(791,-750.5185547,-2083.2167969,5.0996337,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(12)
		createSlenderObject(791,-688.1383057,-2084.4667969,8.5496368,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(13)
		createSlenderObject(791,-661.9776001,-2099.5671387,8.5496368,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(14)
		createSlenderObject(791,-682.7275391,-2105.3164062,8.5496368,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(15)
		createSlenderObject(791,-793.7893066,-2145.3671875,8.5496368,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(16)
		createSlenderObject(791,-814.6591797,-2180.7382812,8.5496368,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(17)
		createSlenderObject(791,-789.1591797,-2196.4882812,8.5496368,0.0000000,0.0000000,50.0000000); --object(vbg_fir_copse)(18)
		createSlenderObject(791,-826.2393188,-2217.4882812,8.5496368,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(19)
		createSlenderObject(791,-860.8894043,-2243.2382812,8.5496368,0.0000000,0.0000000,69.9987793); --object(vbg_fir_copse)(20)
		createSlenderObject(791,-892.8886719,-2215.2573242,8.5496368,0.0000000,0.0000000,69.9938965); --object(vbg_fir_copse)(21)
		createSlenderObject(791,-657.6975708,-2017.5760498,8.5496368,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(22)
		createSlenderObject(7893,-669.0881348,-2041.9244385,24.3110008,0.0000000,0.0000000,200.0000000); --object(vegascrashbar04)(1)
		createSlenderObject(7922,-674.0316772,-2041.4233398,24.5472336,338.0000000,0.0000000,0.0000000); --object(vgwstnewall6905)(1)
		createSlenderObject(7922,-675.8079834,-2044.4758301,24.5472336,337.9998779,0.0000000,50.0000000); --object(vgwstnewall6905)(2)
		createSlenderObject(1431,-670.8056030,-2042.5861816,24.6731548,0.0000000,0.0000000,0.0000000); --object(dyn_box_pile)(1)
		createSlenderObject(1431,-670.8326416,-2043.3100586,24.7016773,0.0000000,0.0000000,0.0000000); --object(dyn_box_pile)(2)
		createSlenderObject(3865,-726.2539062,-2065.1367188,8.9876842,0.0000000,0.0000000,109.9951477); --object(concpipe_sfxrf)(2)
		createSlenderObject(3865,-728.1030273,-2069.8618164,10.7877140,24.0000000,0.0000000,19.9951172); --object(concpipe_sfxrf)(3)
		createSlenderObject(18248,-743.4736328,-2075.2919922,16.2699661,0.0000000,0.0000000,329.9963379); --object(cuntwjunk01)(1)
		createSlenderObject(791,-713.5364990,-2013.0317383,-3.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(23)
		createSlenderObject(791,-713.5361328,-2046.8304443,-3.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(24)
		createSlenderObject(791,-749.1162720,-2034.5800781,-3.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(25)
		createSlenderObject(791,-780.0263062,-2004.9207764,-8.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(26)
		createSlenderObject(791,-814.4354858,-2001.1699219,-8.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(27)
		createSlenderObject(791,-799.9345703,-1969.2709961,-8.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(28)
		createSlenderObject(791,-756.6044312,-1969.2705078,-8.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(29)
		createSlenderObject(791,-722.3833618,-1969.2705078,-8.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(30)
		createSlenderObject(791,-701.0027466,-1983.0205078,-8.1174850,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(31)
		createSlenderObject(791,-675.3681641,-1975.8652344,6.5777893,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(32)
		createSlenderObject(791,-672.6181641,-1938.8160400,6.5777893,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(33)
		createSlenderObject(791,-694.9582520,-1935.0654297,6.5777893,0.0000000,0.0000000,0.0000000); --object(vbg_fir_copse)(34)
		createSlenderObject(3168,-656.7760010,-1993.7216797,25.1591339,0.0000000,0.0000000,22.0000000); --object(trailer2_01)(1)
		createSlenderObject(1225,-659.8130493,-1990.2821045,25.3573875,0.0000000,0.0000000,0.0000000); --object(barrel4)(1)
		createSlenderObject(1225,-659.9908447,-1991.2658691,25.2759361,0.0000000,0.0000000,0.0000000); --object(barrel4)(2)
		createSlenderObject(1225,-660.6845703,-1990.7960205,25.0551758,0.0000000,0.0000000,0.0000000); --object(barrel4)(3)
		createSlenderObject(1225,-657.6861572,-1997.8609619,25.5838928,0.0000000,0.0000000,0.0000000); --object(barrel4)(4)
		createSlenderObject(791,-821.9065552,-2037.4257812,20.8157921,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(12)
		createSlenderObject(791,-848.2463379,-2005.5968018,12.8157921,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(12)
		createSlenderObject(791,-848.2460938,-1932.9685059,12.8157921,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(12)
		createSlenderObject(791,-820.4459839,-1915.0882568,12.8157921,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(12)
		createSlenderObject(791,-836.9453125,-1881.9583740,12.8157921,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(12)
		createSlenderObject(791,-803.3751221,-1942.5356445,12.8157921,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(12)
		createSlenderObject(791,-828.3750000,-1971.0351562,12.8157921,0.0000000,0.0000000,49.9987793); --object(vbg_fir_copse)(12)
		createSlenderObject(13367,-881.0504761,-1949.5893555,32.7525482,0.0000000,9.7500000,0.0000000); --object(sw_watertower01)(1)
		createSlenderObject(3374,-877.7919922,-1948.3508301,21.4015923,0.0000000,16.7500000,351.5000000); --object(sw_haybreak02)(1)
	end
	
	setTimer(function()
		triggerEvent("doSlenderClientSendMessage", localPlayer, "Kliknij L by włączyć/wyłączyć latarkę.", 4000)
		setTimer(function()
			triggerEvent("doSlenderClientSendMessage", localPlayer, "Naciśnij E by podnosić kartki.")
		end, 4000, 1)
	end, 4000, 1)
	
	
	bindKey("e", "down", slender_page_check)
	game_started = true;
	
	-- SOUNDS --
	sound["staticlong"] = playSlenderSound("static_long.mp3", true)
	setSoundVolume(sound["staticlong"], 0)
end

local function deleteSelectionButtons()
	for index, k in pairs(select_button) do
		destroyElement(k)
	end
	atSelection = false
	setTimer(function()
		triggerServerEvent("doClientSpawnPlayerToServer", localPlayer, current_map)
		triggerResourceStart(current_map)
	end, 1000, 1)
	showCursor(false)
end

local startTick, endTick = 0, 0
function startSlender()
	startTick = getTickCount()
	
	pages = 0
	for i = 1, 8, 1 do
		pages_done[i] = false
		page_mat[i] = dxCreateTexture("data/img/pages/"..i..".png")
	end

	setSkyGradient(0, 0, 0, 0, 0, 0)
	setFarClipDistance(200)
	resetFogDistance()
	triggerServerEvent("doClientSpawnPlayerToServer", localPlayer, "forest")
	addEventHandler("onClientPreRender", getRootElement(), slender_render)
	current_map = "forest"
	triggerResourceStart("forest")
	
	toggleControl( "fire", false)
	toggleControl( "sprint", false)
	toggleControl( "jump", false)
	toggleControl( "enter_exit", false)
	toggleControl( "enter_passenger", false)
	toggleControl( "radar", false)
	
	local txd = engineLoadTXD("data/slender.txd")
	engineImportTXD(txd, 100)
	local dff = engineLoadDFF("data/slender.dff", 0)
	engineReplaceModel(dff, 100)

	setElementData(localPlayer, "player:flashlight", true)
	
	exports.dynamic_lighting:setShaderForcedOn(true)
	exports.dynamic_lighting:setShaderNightMod(true)
	exports.dynamic_lighting:setTextureBrightness(0.2)
	exports.dynamic_lighting:setLightsEffectRange(200)
	
	setGameSpeed(0.9)
	
	exports["ms-hud"]:showHUD(false)
	exports["ms-radar"]:showRadar(false)
	
	setElementData(localPlayer, "block:player_teleport", true)
	setElementData(localPlayer, "player:status", "/slender")
	setElementData(localPlayer, "player:job", "Slender")
end 

function endSlender(winner)
	if not game_started then return end 
	endTick = getTickCount()
	
	deleteSlenderObjects()
	resetSkyGradient()
	resetFarClipDistance()
	resetFogDistance()
	removeEventHandler("onClientPreRender", getRootElement(), slender_render)
	setCameraTarget(localPlayer, localPlayer)
	
	for i = 1, 8, 1 do
		if isElement(page_mat[i]) then 
			destroyElement(page_mat[i])
		end
	end
	
	toggleControl( "fire", true)
	toggleControl( "sprint", true)
	toggleControl( "jump", true)
	toggleControl( "enter_exit", true)
	toggleControl( "enter_passenger", true)
	toggleControl( "radar", true)
	
	engineRestoreModel(100)
	
	if isElement(slendy) then 
		destroyElement(slendy)
	end 
	
	setElementData(localPlayer, "block:player_teleport", false)
	setElementData(localPlayer, "player:flashlight", false)
	setElementData(localPlayer, "player:job", false)
	
	exports.dynamic_lighting:setShaderForcedOn(false)
	exports.dynamic_lighting:setShaderNightMod(false)
	exports.dynamic_lighting:setTextureBrightness(1)
	
	setGameSpeed(1)
	
	game_started = false
	fertig = false 
	
	exports["ms-hud"]:showHUD(true)
	exports["ms-radar"]:showRadar(true)
	
	-- wtf
	setEgoDisabled()
	
	triggerServerEvent("onPlayerGetSlenderReward", localPlayer, winner == true, endTick-startTick, pages)
	
	pages = 0
	setElementData(localPlayer, "player:status", "W grze")
end 
addEventHandler("onClientResourceStop", resourceRoot, endSlender)

addEventHandler ( "onClientPlayerWasted", getLocalPlayer(), function()
	if game_started then 
		endSlender()
	end
end)

local function slender_player_wasted()
	if(isElement(sound["page1"])) then
		destroyElement(sound["page1"])
	end
	if(isElement(sound["page3"])) then
		destroyElement(sound["page3"])
	end
	if(isElement(sound["page6"])) then
		destroyElement(sound["page6"])
	end
	wasted = true
	setTimer(function()
		s_en = true
		setSoundVolume(sound["staticlong"], 1.0)
		setTimer(function()
			s_en = false
			setSoundVolume(sound["staticlong"], 0.0)
			setTimer(function()
				s_en = true
				setSoundVolume(sound["staticlong"], 1.0)
				setTimer(function()
					s_en = false
					setSoundVolume(sound["staticlong"], 0.0)
					setTimer(function()
						s_en = true
						setSoundVolume(sound["staticlong"], 1.0)
						setTimer(function()
							s_en = false
							setSoundVolume(sound["staticlong"], 0.0)
							setTimer(function()
								endSlender()
								setElementHealth(localPlayer, 0)
								wasted = false
							end, 1000, 1)
						end, 500, 1)
					end, 150, 1)
				end, 250, 1)
			end, 200, 1)
		end, 50, 1)
	end, 100, 1)
	destroyElement(slendy)
	page = 0
	for i = 1, 8, 1 do
		pages_done[i] = false
	end
	if(isTimer(ai_data["timer"])) then
		killTimer(ai_data["timer"])
	end
	
	s_en = false
	slendyshock = false
	fertig = false
	last_ai = 1
	fade = 0
end

-- addCommandHandler("die", slender_player_wasted)
-- CLIENT RENDER --


local lastFade = 0 
local lastShock = 0

function slender_render()
	local now = getTickCount()
	
	if(atSelection == false) then
		local sx, sy = guiGetScreenSize()
		local scale
		-- PAGES --
		for i = 1, 8, 1 do
			if(pages_done[i] == false) then
				local x, y, z = page_location[current_map][i][1], page_location[current_map][i][2], page_location[current_map][i][3]
				local x2, y2, z2 = getElementPosition(localPlayer)
				if  (getDistanceBetweenPoints3D(x, y, z, x2, y2, z2) < 60) then
					dxDrawMaterialLine3D(page_location[current_map][i][1], page_location[current_map][i][2], page_location[current_map][i][3]+0.5, page_location[current_map][i][1], page_location[current_map][i][2], page_location[current_map][i][3]-0.5, page_mat[i], 0.9, tocolor(255,255,255,255), page_facel[current_map][i][1],page_facel[current_map][i][2], page_facel[current_map][i][3])
				end
			end
		end
		-- SLENDER --
		if(isElement(slendy)) then
			-- ROT --
			local x3, y3, z3 = getElementPosition(slendy)
			local x4, y4, z4 = getElementPosition(localPlayer)
			local rot = math.atan2(y4 - y3, x4 - x3) * 180 / math.pi
			rot = rot-90
			setPedRotation(slendy, rot)
			-- BUM CHECK --
			local x, y, z = getElementPosition(localPlayer)
			local x2, y2, z2 = getElementPosition(slendy)
			if(isElementOnScreen(slendy)) and (isLineOfSightClear(x, y, z, x2, y2, z2, true, true, false, true)) and (getDistanceBetweenPoints3D(x, y, z, x2, y2, z2) < 10) then
				if(slendyshock == false) and (now > lastShock) then
					lastShock = now+4000
					slendyshock = true
					playSlenderSound("bum.mp3", false)
				end
			else
				slendyshock = false
			end
			-- FADE --
			local distance = getDistanceBetweenPoints3D(x3, y3, z3, x4, y4, z4)
			if(taschenlampstate == true) then
				distance = 0
			end
			if(isElementOnScreen(slendy)) and (isLineOfSightClear(x, y, z, x2, y2, z2, true, true, false, true)) and (distance < 15) then
				
				if now > lastFade then 
					lastFade = now+50
					fade = fade+5
				end 
				
				dxDrawImage(0, 0, sx, sy, "data/img/slender.png", 0, 0, 0, tocolor(255, 255, 255, fade))
				dxDrawImage(0, 0, sx, sy, "data/img/static.png", 0, 0, 0, tocolor(255, 255, 255, fade))
				setSoundVolume(sound["staticlong"], fade/2.55/100)
				if(fade > 200) then
					if(page ~= 8) then
						if(wasted == false) then
							slender_player_wasted()
						end
					end
				end
			else
				noise = false
				if(fade > 0) then
					if now > lastFade then 
						lastFade = now+50
						fade = fade-2
					end 
					dxDrawImage(0, 0, sx, sy, "data/img/slender.png", 0, 0, 0, tocolor(255, 255, 255, fade))
					dxDrawImage(0, 0, sx, sy, "data/img/static.png", 0, 0, 0, tocolor(255, 255, 255, fade))
					setSoundVolume(sound["staticlong"], fade/2.55/100)
				end
				if(isLineOfSightClear(x, y, z, x2, y2, z2, true, true, false, true)) then
					slender_seeme = true
				else
					slender_seeme = false
				end
			end
		end
		if(wasted == true) then
			dxDrawRectangle(0, 0, sx, sy, tocolor(0, 0, 0, 255))
			if(s_en == true) then
				dxDrawImage(0, 0, sx, sy, "data/img/static.png", 0, 0, 0, tocolor(255, 255, 255, 255))
				dxDrawImage(0, 0, sx, sy, "data/img/slender.png", 0, 0, 0, tocolor(255, 255, 255, 200))
			end
		end
		if(textd["status"] == true) then
			scale = 3/1920*sx
			dxDrawText(textd["text"], sx/2, sy/2-(200/1080*sy), sx/2, sy/2-(500/1080*sy), tocolor(255, 255, 255, 200), scale, "default-bold", "center")
		end
	end
end

-- SLENDER MSG --

addEventHandler("doSlenderClientSendMessage", getLocalPlayer(), function(text, time)
	if(isTimer(textd["timer"])) then
		killTimer(textd["timer"])
	end
	if not(time) then time = 5000 end
	textd["text"] = text
	textd["status"] = true

	textd["timer"] = setTimer(function()
		textd["status"] = false
		textd["text"] = ""
	end, time, 1)
end)

function isGameStarted()
	return game_started;
end

function canSlenderSeeMe()
	return slender_seeme
end